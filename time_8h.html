<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ebs-time: time/time.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ebs-time
   &#160;<span id="projectnumber">0.3.2</span>
   </div>
   <div id="projectbrief">Time keeping and manipulation functions for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('time_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">time.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Time related functions for embebedded systems.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;platform/cpu.h&gt;</code><br />
<code>#include &lt;ucdm/ucdm.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for time.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h__incl.svg" width="551" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h__dep__incl.svg" width="606" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="time_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_m___r_e_a_l__t.html">TM_REAL_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Real Time Storage Type.  <a href="struct_t_m___r_e_a_l__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_m___r_d_e_l_t_a__t.html">TM_RDELTA_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Real Timedelta Storage Type.  <a href="struct_t_m___r_d_e_l_t_a__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_m___e_p_o_c_h___c_h_a_n_g_e_h_a_n_d_l_e_r__t.html">TM_EPOCH_CHANGEHANDLER_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Epoch Change Handler Type.  <a href="struct_t_m___e_p_o_c_h___c_h_a_n_g_e_h_a_n_d_l_e_r__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Time Tick Calculations</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These definitions configure the systick and prepare all the calculated names derived from it.</p>
<p>This definition is informational only. Changing this number could have insidious consequences. </p>
</div></td></tr>
<tr class="memitem:a2f3592ff3805cad99c4f78db27e68475"><td class="memItemLeft" align="right" valign="top"><a id="a2f3592ff3805cad99c4f78db27e68475"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_SYSTICK_PERIOD_uS</b>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a2f3592ff3805cad99c4f78db27e68475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb4685eb35fd7ee3bab8aef5f53c211"><td class="memItemLeft" align="right" valign="top"><a id="a5cb4685eb35fd7ee3bab8aef5f53c211"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TICKS_PER_SECOND</b>&#160;&#160;&#160;(int32_t)(1000000 / TIME_SYSTICK_PERIOD_uS)</td></tr>
<tr class="separator:a5cb4685eb35fd7ee3bab8aef5f53c211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ada061ca50c6d67ff85c5df6964466"><td class="memItemLeft" align="right" valign="top"><a id="ab2ada061ca50c6d67ff85c5df6964466"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TICKS_PER_MINUTE</b>&#160;&#160;&#160;(TIME_TICKS_PER_SECOND * 60)</td></tr>
<tr class="separator:ab2ada061ca50c6d67ff85c5df6964466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fef002f838d2490e2f0df494686ac1d"><td class="memItemLeft" align="right" valign="top"><a id="a2fef002f838d2490e2f0df494686ac1d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TICKS_PER_HOUR</b>&#160;&#160;&#160;(TIME_TICKS_PER_MINUTE * 60)</td></tr>
<tr class="separator:a2fef002f838d2490e2f0df494686ac1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca85a96d65d3b74e2e5ae86f617969c"><td class="memItemLeft" align="right" valign="top"><a id="a8ca85a96d65d3b74e2e5ae86f617969c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_TICKS_PER_DAY</b>&#160;&#160;&#160;(TIME_TICKS_PER_HOUR * 24)</td></tr>
<tr class="separator:a8ca85a96d65d3b74e2e5ae86f617969c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208d27f0c6b40b3ec9894db3eea276be"><td class="memItemLeft" align="right" valign="top"><a id="a208d27f0c6b40b3ec9894db3eea276be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_SECONDS_PER_MINUTE</b>&#160;&#160;&#160;(int32_t)(60)</td></tr>
<tr class="separator:a208d27f0c6b40b3ec9894db3eea276be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da0ab08ac01140a51f9b8d70602ade2"><td class="memItemLeft" align="right" valign="top"><a id="a8da0ab08ac01140a51f9b8d70602ade2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_SECONDS_PER_HOUR</b>&#160;&#160;&#160;(TIME_SECONDS_PER_MINUTE * 60)</td></tr>
<tr class="separator:a8da0ab08ac01140a51f9b8d70602ade2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af752144f9cbabcde89282e4f485176bc"><td class="memItemLeft" align="right" valign="top"><a id="af752144f9cbabcde89282e4f485176bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_SECONDS_PER_DAY</b>&#160;&#160;&#160;(TIME_SECONDS_PER_HOUR * 24)</td></tr>
<tr class="separator:af752144f9cbabcde89282e4f485176bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Time Initialization and Maintenance Functions</div></td></tr>
<tr class="memitem:ad30ad83b20a9361d7ba12e5117b56fce"><td class="memItemLeft" align="right" valign="top">ucdm_addr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#ad30ad83b20a9361d7ba12e5117b56fce">tm_init</a> (ucdm_addr_t ucdm_address)</td></tr>
<tr class="memdesc:ad30ad83b20a9361d7ba12e5117b56fce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intitialize time library constructs.  <a href="time_8h.html#ad30ad83b20a9361d7ba12e5117b56fce">More...</a><br /></td></tr>
<tr class="separator:ad30ad83b20a9361d7ba12e5117b56fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae649a29fbd008c16730d843b6da0a7fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#ae649a29fbd008c16730d843b6da0a7fc">tm_install_descriptor</a> (void)</td></tr>
<tr class="memdesc:ae649a29fbd008c16730d843b6da0a7fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install the time library descriptor to the application.  <a href="time_8h.html#ae649a29fbd008c16730d843b6da0a7fc">More...</a><br /></td></tr>
<tr class="separator:ae649a29fbd008c16730d843b6da0a7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e742cf4d5a15aa405e271532631cb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a80e742cf4d5a15aa405e271532631cb7">tm_clear_stime</a> (<a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *stime)</td></tr>
<tr class="memdesc:a80e742cf4d5a15aa405e271532631cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a tm_system_t instance.  <a href="time_8h.html#a80e742cf4d5a15aa405e271532631cb7">More...</a><br /></td></tr>
<tr class="separator:a80e742cf4d5a15aa405e271532631cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a5692ee3a8cab2cb079ce7e2c8c5e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a00a5692ee3a8cab2cb079ce7e2c8c5e3">tm_clear_sdelta</a> (<a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *sdelta)</td></tr>
<tr class="memdesc:a00a5692ee3a8cab2cb079ce7e2c8c5e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a tm_sdelta_t instance.  <a href="time_8h.html#a00a5692ee3a8cab2cb079ce7e2c8c5e3">More...</a><br /></td></tr>
<tr class="separator:a00a5692ee3a8cab2cb079ce7e2c8c5e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bbe6f553bb851f42fb51b008ff4517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#aa6bbe6f553bb851f42fb51b008ff4517">tm_clear_rtime</a> (<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *rtime)</td></tr>
<tr class="memdesc:aa6bbe6f553bb851f42fb51b008ff4517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a tm_real_t instance.  <a href="time_8h.html#aa6bbe6f553bb851f42fb51b008ff4517">More...</a><br /></td></tr>
<tr class="separator:aa6bbe6f553bb851f42fb51b008ff4517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56895961aa355ff23c287403e49833ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a56895961aa355ff23c287403e49833ac">tm_clear_rdelta</a> (<a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *rdelta)</td></tr>
<tr class="memdesc:a56895961aa355ff23c287403e49833ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a tm_rdelta_t instance.  <a href="time_8h.html#a56895961aa355ff23c287403e49833ac">More...</a><br /></td></tr>
<tr class="separator:a56895961aa355ff23c287403e49833ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcb06aff9710476f3813a37507b61fc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#acbcb06aff9710476f3813a37507b61fc">tm_check_invalid_rtime</a> (<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *rtime)</td></tr>
<tr class="memdesc:acbcb06aff9710476f3813a37507b61fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate a tm_real_t instance.  <a href="time_8h.html#acbcb06aff9710476f3813a37507b61fc">More...</a><br /></td></tr>
<tr class="separator:acbcb06aff9710476f3813a37507b61fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Basic Time Manipulation Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Basic time information manipulation functions. Use these whenever possible, and resort to using the (higher level) Real time manipulation functions only when it's really necessary. </p>
</div></td></tr>
<tr><td colspan="2"><div class="groupHeader">Real Time Manipulation Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions to manipule Real time. Use these functions sparingly, and usually only when dealing with user-generated or externally generated information. The further down this group of functions you go, the worse it's going to get. </p>
</div></td></tr>
<tr class="memitem:a36fe5f19a48263d62cb825079260f00b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a36fe5f19a48263d62cb825079260f00b">tm_sdelta_from_rdelta</a> (<a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *rdelta, <a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *sdelta)</td></tr>
<tr class="memdesc:a36fe5f19a48263d62cb825079260f00b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a tm_rdelta_t instance into systick units.  <a href="time_8h.html#a36fe5f19a48263d62cb825079260f00b">More...</a><br /></td></tr>
<tr class="separator:a36fe5f19a48263d62cb825079260f00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70da36517cb7cbe622604c69c21dafaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a70da36517cb7cbe622604c69c21dafaa">tm_rdelta_from_sdelta</a> (<a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *sdelta, <a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *rdelta)</td></tr>
<tr class="memdesc:a70da36517cb7cbe622604c69c21dafaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a time difference in systick units into a real time difference.  <a href="time_8h.html#a70da36517cb7cbe622604c69c21dafaa">More...</a><br /></td></tr>
<tr class="separator:a70da36517cb7cbe622604c69c21dafaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd940fe0a1b12b1a0c47e857bc91b6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#adcd940fe0a1b12b1a0c47e857bc91b6e">tm_stime_from_rtime</a> (<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *rtime, <a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *stime)</td></tr>
<tr class="memdesc:adcd940fe0a1b12b1a0c47e857bc91b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a system timestamp from a real time, against the current epoch.  <a href="time_8h.html#adcd940fe0a1b12b1a0c47e857bc91b6e">More...</a><br /></td></tr>
<tr class="separator:adcd940fe0a1b12b1a0c47e857bc91b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c2bf43c04d5a8da41bbc4de13594e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a52c2bf43c04d5a8da41bbc4de13594e5">tm_rtime_from_stime</a> (<a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *stime, <a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *rtime)</td></tr>
<tr class="memdesc:a52c2bf43c04d5a8da41bbc4de13594e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the real time from a system timestamp against the current epoch.  <a href="time_8h.html#a52c2bf43c04d5a8da41bbc4de13594e5">More...</a><br /></td></tr>
<tr class="separator:a52c2bf43c04d5a8da41bbc4de13594e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Epoch Manipulation Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions to manipule the Epoch. These functions should be avoided in all but the most demanding of applications. The default configuration of the library uses the Unix Epoch.</p>
<p>Variable Epochs will most likely be useful in cases where a second time reference is maintained relative to the primary Epoch. This type of use is not currently supported by this library, since tm_epoch is a global which is used by a number of functions. Passing tm_epoch around is going to make it far more expensive than it already is.</p>
<p>These implementations are here for the sake of completeness. If you don't actually used the functions, the compiler will get rid of them.</p>
<p>In the future, it may be possible to adapt these implementations to provide one or more of the following :</p>
<ul>
<li>A variable epoch operating alongside a high resolution system clock. The high resolution of the clock will shorten the epoch validity for the same size of the clock.</li>
<li>Allow the use of these functions to maintain secondary / multiple epochs. An example use case could be the maintenance of TLE Epochs. </li>
</ul>
</div></td></tr>
<tr class="memitem:a6a189a7f4cdf84e3f061bb309203fb50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a6a189a7f4cdf84e3f061bb309203fb50">tm_set_epoch</a> (<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *rtime, uint8_t follow)</td></tr>
<tr class="memdesc:a6a189a7f4cdf84e3f061bb309203fb50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the epoch time from an external real time source.  <a href="time_8h.html#a6a189a7f4cdf84e3f061bb309203fb50">More...</a><br /></td></tr>
<tr class="separator:a6a189a7f4cdf84e3f061bb309203fb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542af40054156e483d8394af15fc0ac4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a542af40054156e483d8394af15fc0ac4">tm_register_epoch_change_handler</a> (<a class="el" href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">tm_epochchange_handler_t</a> *handler)</td></tr>
<tr class="memdesc:a542af40054156e483d8394af15fc0ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback for changes to the epoch.  <a href="time_8h.html#a542af40054156e483d8394af15fc0ac4">More...</a><br /></td></tr>
<tr class="separator:a542af40054156e483d8394af15fc0ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Time Containers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These containers are defined internally in the library. </p>
</div></td></tr>
<tr class="memitem:a72ab6a2cf1cec6454e36bb7823fd83f0"><td class="memItemLeft" align="right" valign="top"><a id="a72ab6a2cf1cec6454e36bb7823fd83f0"></a>
volatile <a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tm_current</b></td></tr>
<tr class="separator:a72ab6a2cf1cec6454e36bb7823fd83f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ba4f32f6991c9a4e14570a1f1c09c2"><td class="memItemLeft" align="right" valign="top"><a id="a07ba4f32f6991c9a4e14570a1f1c09c2"></a>
<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tm_epoch</b></td></tr>
<tr class="separator:a07ba4f32f6991c9a4e14570a1f1c09c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da100e3faad3170e19b84f90f9073d4"><td class="memItemLeft" align="right" valign="top"><a id="a8da100e3faad3170e19b84f90f9073d4"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><b>tm_leapseconds</b></td></tr>
<tr class="separator:a8da100e3faad3170e19b84f90f9073d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81951a50eece8e5c647b52b00f199be9"><td class="memItemLeft" align="right" valign="top"><a id="a81951a50eece8e5c647b52b00f199be9"></a>
<a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tm_internal_epoch</b></td></tr>
<tr class="separator:a81951a50eece8e5c647b52b00f199be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0f098b0913d8dde383c713b7a2b931"><td class="memItemLeft" align="right" valign="top"><a id="a2b0f098b0913d8dde383c713b7a2b931"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>tm_internal_epoch_offset</b></td></tr>
<tr class="separator:a2b0f098b0913d8dde383c713b7a2b931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46cbce2f63dae1d24205fd6fbcc2ab3"><td class="memItemLeft" align="right" valign="top"><a id="ac46cbce2f63dae1d24205fd6fbcc2ab3"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>use_epoch</b></td></tr>
<tr class="separator:ac46cbce2f63dae1d24205fd6fbcc2ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86be02fde607154c536aa3425793503b"><td class="memItemLeft" align="right" valign="top"><a id="a86be02fde607154c536aa3425793503b"></a>
<a class="el" href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">tm_epochchange_handler_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>epoch_handlers_root</b></td></tr>
<tr class="separator:a86be02fde607154c536aa3425793503b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Time Types</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpfb2e65ac0cf37b560d744851ffb05ed4"></a>Various type definitions related to time storage and exchange. </p>
</td></tr>
<tr class="memitem:a8cb8cdde6a7bc8d7ad9386d9626ddddb"><td class="memItemLeft" align="right" valign="top"><a id="a8cb8cdde6a7bc8d7ad9386d9626ddddb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TM_REAL_t_DEFINED</b></td></tr>
<tr class="separator:a8cb8cdde6a7bc8d7ad9386d9626ddddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6431d9bc028f3b054654b0b326ca6e97"><td class="memItemLeft" align="right" valign="top">typedef int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a></td></tr>
<tr class="memdesc:a6431d9bc028f3b054654b0b326ca6e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">System Time Storage Type.  <a href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">More...</a><br /></td></tr>
<tr class="separator:a6431d9bc028f3b054654b0b326ca6e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5cc3f465acf62651c6b24795249de6"><td class="memItemLeft" align="right" valign="top">typedef int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a></td></tr>
<tr class="memdesc:a3d5cc3f465acf62651c6b24795249de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">System Timedelta Storage Type.  <a href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">More...</a><br /></td></tr>
<tr class="separator:a3d5cc3f465acf62651c6b24795249de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d68c653cca64590d7af5c9434363a19"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_t_m___r_e_a_l__t.html">TM_REAL_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a></td></tr>
<tr class="memdesc:a4d68c653cca64590d7af5c9434363a19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Real Time Storage Type.  <a href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">More...</a><br /></td></tr>
<tr class="separator:a4d68c653cca64590d7af5c9434363a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7b65e9a7e04684743d2f45f719e7ba"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_t_m___r_d_e_l_t_a__t.html">TM_RDELTA_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a></td></tr>
<tr class="memdesc:add7b65e9a7e04684743d2f45f719e7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Real Timedelta Storage Type.  <a href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">More...</a><br /></td></tr>
<tr class="separator:add7b65e9a7e04684743d2f45f719e7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc3a4779fa0302239208634953cfc2a1"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_t_m___e_p_o_c_h___c_h_a_n_g_e_h_a_n_d_l_e_r__t.html">TM_EPOCH_CHANGEHANDLER_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">tm_epochchange_handler_t</a></td></tr>
<tr class="memdesc:adc3a4779fa0302239208634953cfc2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Epoch Change Handler Type.  <a href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">More...</a><br /></td></tr>
<tr class="separator:adc3a4779fa0302239208634953cfc2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Time related functions for embebedded systems. </p>
<p>While this library uses int64_t with the intent to support negative timestamps, most functions would do not support this and will break.</p>
<p>This library uses the following UCDM registers:</p>
<p>Base Address: TIME_BASE_ADDRESS</p>
<p>System Time is the current time of the device. This is returned directly from the system time in the same format, ie, int64_t.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Address   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Access Type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">System Time, Register 0   </td><td class="markdownTableBodyNone">Read, Pointer    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">System Time, Register 1   </td><td class="markdownTableBodyNone">Read, Pointer    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">System Time, Register 2   </td><td class="markdownTableBodyNone">Read, Pointer    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">System Time, Register 3   </td><td class="markdownTableBodyNone">Read, POinter   </td></tr>
</table>
<p>If synchronization is enabled by TIME_ENABLE_SYNC, the following additional registers are used</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Address   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Access Type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">System Time Read Hook   </td><td class="markdownTableBodyNone">Read, Func    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Reserved   </td><td class="markdownTableBodyNone">None    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Time Sync Register 1   </td><td class="markdownTableBodyNone">Write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">Time Sync Register 2   </td><td class="markdownTableBodyNone">Write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">Time Sync Register 3   </td><td class="markdownTableBodyNone">Write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">Time Sync Register 4   </td><td class="markdownTableBodyNone">Write, Handle   </td></tr>
</table>
<p>This library provides the following descriptors:</p>
<p>DESCRIPTOR_TAG_LIBVERSION : Time Library Version, per EBS version format DESCRIPTOR_TAG_TIME_EPOCH : Configured Epoch Time</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="time_8c.html" title="Time related function implementations.">time.c</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="time_8h_source.html">time.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="adc3a4779fa0302239208634953cfc2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc3a4779fa0302239208634953cfc2a1">&#9670;&nbsp;</a></span>tm_epochchange_handler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_t_m___e_p_o_c_h___c_h_a_n_g_e_h_a_n_d_l_e_r__t.html">TM_EPOCH_CHANGEHANDLER_t</a> <a class="el" href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">tm_epochchange_handler_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Epoch Change Handler Type. </p>
<p>This (struct) type stores an epoch change handler, and must be instantiated and registered by consumers requiring epoch change notifications.</p>
<p>Generally, an epoch change should be considered a rare occurence. If an application is expecting epoch changes, then the application can use the time delta provided to the handler to shift any stored timestamps to the new epoch. This remains largely untested.</p>
<p>If the epoch change is not to be followed, then the change handler will be provided 0 as the time delta. In such cases, applications must discard any stored timestamps. This usually would happen if the two epochs are fundamentally incompatible, or if the change involves more than just a shift in the epoch.</p>
<p>Note that epoch change handlers are run in an interrupt-disabled context, so they should be as quick as possible.</p>
<p>The epoch change handlers should be called in increasing order of the priority member, and this could, in principle, be used by the application to sequence shifts of related timestamps. This is not implemented. </p>

</div>
</div>
<a id="add7b65e9a7e04684743d2f45f719e7ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7b65e9a7e04684743d2f45f719e7ba">&#9670;&nbsp;</a></span>tm_rdelta_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_t_m___r_d_e_l_t_a__t.html">TM_RDELTA_t</a> <a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Real Timedelta Storage Type. </p>
<p>This (struct) type stores a 'real' time difference.</p>
<p>This form of time storage is always going to be expensive, and should therefore be used sparingly. </p>

</div>
</div>
<a id="a4d68c653cca64590d7af5c9434363a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d68c653cca64590d7af5c9434363a19">&#9670;&nbsp;</a></span>tm_real_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_t_m___r_e_a_l__t.html">TM_REAL_t</a> <a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Real Time Storage Type. </p>
<p>This (struct) type stores a 'real' time. This type does not depend on the epoch and is independent of system time.</p>
<p>This form of time storage is always going to be expensive, and should therefore be used sparingly.</p>
<p>This type is not time-zone aware, and should always be interpreted as UTC time (GMT+0000). See the documentation of <a class="el" href="time_8h.html" title="Time related functions for embebedded systems.">time.h</a> for further detail about the interpretation of time by this library.</p>
<p>This library does no implicit validation of the data provided, and values outside expected ranges of each component of the real time can cause unexpected behaviour and crashes. If applications use uexternal or unsanitized sources to initizalize this type, then the application must also validate the input. One option to do so would be to initialize the tm_real_t and then use <a class="el" href="time_8c.html#acbcb06aff9710476f3813a37507b61fc" title="Validate a tm_real_t instance.">tm_check_invalid_rtime()</a>. <br  />
 </p>

</div>
</div>
<a id="a3d5cc3f465acf62651c6b24795249de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5cc3f465acf62651c6b24795249de6">&#9670;&nbsp;</a></span>tm_sdelta_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int64_t <a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System Timedelta Storage Type. </p>
<p>This type stores a 'system' time difference.</p>
<p>The least count is based on the least count created by the system tick, and is expected to be 1ms. </p>

<p class="definition">Definition at line <a class="el" href="time_8h_source.html#l00130">130</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

</div>
</div>
<a id="a6431d9bc028f3b054654b0b326ca6e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6431d9bc028f3b054654b0b326ca6e97">&#9670;&nbsp;</a></span>tm_system_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int64_t <a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System Time Storage Type. </p>
<p>A signed int64_t type, stores a 'system' time as number of milliseconds since the epoch. <br  />
</p>
<p>The least count is based on the least count created by the system tick, and is expected to be 1ms. </p>

<p class="definition">Definition at line <a class="el" href="time_8h_source.html#l00119">119</a> of file <a class="el" href="time_8h_source.html">time.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acbcb06aff9710476f3813a37507b61fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcb06aff9710476f3813a37507b61fc">&#9670;&nbsp;</a></span>tm_check_invalid_rtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tm_check_invalid_rtime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *&#160;</td>
          <td class="paramname"><em>rtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate a tm_real_t instance. </p>
<p>Returns 0 for valid tm_real_t, non-zero for out of bounds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtime</td><td>Pointer to the tm_rtime_t to validate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00134">134</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a56895961aa355ff23c287403e49833ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56895961aa355ff23c287403e49833ac">&#9670;&nbsp;</a></span>tm_clear_rdelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_clear_rdelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *&#160;</td>
          <td class="paramname"><em>rdelta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear a tm_rdelta_t instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdelta</td><td>Pointer to the time_delta_t to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00124">124</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="time_8c_source.html#l00178">tm_rdelta_from_sdelta()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h_a56895961aa355ff23c287403e49833ac_icgraph.svg" width="354" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa6bbe6f553bb851f42fb51b008ff4517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bbe6f553bb851f42fb51b008ff4517">&#9670;&nbsp;</a></span>tm_clear_rtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_clear_rtime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *&#160;</td>
          <td class="paramname"><em>rtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear a tm_real_t instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtime</td><td>Pointer to the time_real_t to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00112">112</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a00a5692ee3a8cab2cb079ce7e2c8c5e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a5692ee3a8cab2cb079ce7e2c8c5e3">&#9670;&nbsp;</a></span>tm_clear_sdelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_clear_sdelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *&#160;</td>
          <td class="paramname"><em>sdelta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear a tm_sdelta_t instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdelta</td><td>Pointer to the time_sdelta_t to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00107">107</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a80e742cf4d5a15aa405e271532631cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e742cf4d5a15aa405e271532631cb7">&#9670;&nbsp;</a></span>tm_clear_stime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_clear_stime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *&#160;</td>
          <td class="paramname"><em>stime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear a tm_system_t instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stime</td><td>Pointer to the tm_system_t to clear. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00102">102</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="ad30ad83b20a9361d7ba12e5117b56fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad30ad83b20a9361d7ba12e5117b56fce">&#9670;&nbsp;</a></span>tm_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ucdm_addr_t tm_init </td>
          <td>(</td>
          <td class="paramtype">ucdm_addr_t&#160;</td>
          <td class="paramname"><em>ucdm_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Intitialize time library constructs. </p>
<p>The address provided to this function will be called TIME_BASE_ADDRESS for the purposes of this library, though EBS applications using the devicemap may choose to call it DMAP_TIME_BASE_ADDRESS instead. All other UCDM addresses discussed in this library will be referenced to this base address unless otherwise specified. </p>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00075">75</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="ae649a29fbd008c16730d843b6da0a7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae649a29fbd008c16730d843b6da0a7fc">&#9670;&nbsp;</a></span>tm_install_descriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_install_descriptor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Install the time library descriptor to the application. </p>
<p>The time application descriptor contains the library version number and is installed to the application descriptors with the tag specified in UCDM's descriptor header as DESCRIPTOR_TAG_LIBVERSION.</p>
<p>This does not effect the functionality of the time library in any way. </p>

</div>
</div>
<a id="a70da36517cb7cbe622604c69c21dafaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70da36517cb7cbe622604c69c21dafaa">&#9670;&nbsp;</a></span>tm_rdelta_from_sdelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_rdelta_from_sdelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *&#160;</td>
          <td class="paramname"><em>sdelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *&#160;</td>
          <td class="paramname"><em>rdelta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a time difference in systick units into a real time difference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdelta</td><td>Pointer to the time difference in system time units. </td></tr>
    <tr><td class="paramname">rdelta</td><td>Pointer to the tm_rdelta_t in which to store the result. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00178">178</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="time_8c_source.html#l00124">tm_clear_rdelta()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h_a70da36517cb7cbe622604c69c21dafaa_cgraph.svg" width="354" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a542af40054156e483d8394af15fc0ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542af40054156e483d8394af15fc0ac4">&#9670;&nbsp;</a></span>tm_register_epoch_change_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_register_epoch_change_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#adc3a4779fa0302239208634953cfc2a1">tm_epochchange_handler_t</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a callback for changes to the epoch. </p>
<p>Use this if you are storing timestamps for any reason. If possible, invalidate your stored timestamps. If you need to retain that information, apply the provided delta.</p>
<p>If the change is not intended to be followed, the delta reported will be zero. In this case, the function should discard all timestamp information.</p>
<dl class="section note"><dt>Note</dt><dd>This function should also be used to follow time sync where applicable.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Pointer to the epoch change handler. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00392">392</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a52c2bf43c04d5a8da41bbc4de13594e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c2bf43c04d5a8da41bbc4de13594e5">&#9670;&nbsp;</a></span>tm_rtime_from_stime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_rtime_from_stime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *&#160;</td>
          <td class="paramname"><em>rtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the real time from a system timestamp against the current epoch. </p>
<p>If the current epoch is not set, does nothing.</p>
<dl class="section note"><dt>Note</dt><dd>NOT IMPLEMENTED YET!</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Align to gmtime</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stime</td><td>The system time (as a pointer to a tm_system_t instance) </td></tr>
    <tr><td class="paramname">rtime</td><td>Pointer to the tm_real_t in which to store the result. represented by stime. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00262">262</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a36fe5f19a48263d62cb825079260f00b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fe5f19a48263d62cb825079260f00b">&#9670;&nbsp;</a></span>tm_sdelta_from_rdelta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_sdelta_from_rdelta </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#add7b65e9a7e04684743d2f45f719e7ba">tm_rdelta_t</a> *&#160;</td>
          <td class="paramname"><em>rdelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#a3d5cc3f465acf62651c6b24795249de6">tm_sdelta_t</a> *&#160;</td>
          <td class="paramname"><em>sdelta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a tm_rdelta_t instance into systick units. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdelta</td><td>Pointer to the time difference in real time units. </td></tr>
    <tr><td class="paramname">sdelta</td><td>Pointer to the tm_sdelta_t in which to store the result. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00165">165</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

</div>
</div>
<a id="a6a189a7f4cdf84e3f061bb309203fb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a189a7f4cdf84e3f061bb309203fb50">&#9670;&nbsp;</a></span>tm_set_epoch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_set_epoch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *&#160;</td>
          <td class="paramname"><em>rtime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>follow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the epoch time from an external real time source. </p>
<p>Note that for 'follow' to work, both the new epoch and the old one should be representable against the old epoch.</p>
<p>Because this function touches timestamps across the system, and the time variables are likely in an inconsistent state over the course of this operation, this function disables interrupts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtime</td><td>Pointer to the time_real_t in which the desired epoch is stored </td></tr>
    <tr><td class="paramname">follow</td><td>Whether the system should try to adjust stored timestamps to the new epoch. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00357">357</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

<p class="reference">References <a class="el" href="time_8c_source.html#l00216">tm_stime_from_rtime()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h_a6a189a7f4cdf84e3f061bb309203fb50_cgraph.svg" width="336" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adcd940fe0a1b12b1a0c47e857bc91b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd940fe0a1b12b1a0c47e857bc91b6e">&#9670;&nbsp;</a></span>tm_stime_from_rtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tm_stime_from_rtime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="time_8h.html#a4d68c653cca64590d7af5c9434363a19">tm_real_t</a> *&#160;</td>
          <td class="paramname"><em>rtime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="time_8h.html#a6431d9bc028f3b054654b0b326ca6e97">tm_system_t</a> *&#160;</td>
          <td class="paramname"><em>stime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a system timestamp from a real time, against the current epoch. </p>
<p>If the current epoch is not set, returns 0. Currently only supports epochs with frac = 0.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Align to timegm. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtime</td><td>The real time (as a pointer to a tm_real_t instance) </td></tr>
    <tr><td class="paramname">stime</td><td>Pointer to the tm_system_t in which to store the result. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="time_8c_source.html#l00216">216</a> of file <a class="el" href="time_8c_source.html">time.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="time_8c_source.html#l00357">tm_set_epoch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="time_8h_adcd940fe0a1b12b1a0c47e857bc91b6e_icgraph.svg" width="336" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f6227287712d84441d1f97cc74cea9a5.html">time</a></li><li class="navelem"><a class="el" href="time_8h.html">time.h</a></li>
    <li class="footer">Generated on Fri Nov 29 2024 13:12:46 for ebs-time by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
